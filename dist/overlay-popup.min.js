!function(o){function e(o){for(var e="";e.length<o&&o>0;){var t=Math.random();e+=t<.1?Math.floor(100*t):String.fromCharCode(Math.floor(26*t)+(t>.5?97:65))}return e}var t={init:function(t){var n=o.extend({beforeShow:function(){},beforeHide:function(){},closeBtnId:!1,afterInit:function(){}},t);return this.each(function(){var t=o(this),r=t.html(),i="",a=e(10);t.addClass("op-init").attr("id",a),t.html('<div class="op-content">'+r+"</div>"),o(document).on(a+":show",function(){n.beforeShow&&"function"==typeof n.beforeShow&&n.beforeShow(),t.addClass("op-display"),o("body").css("overflow","hidden")}),o(document).on(a+":hide",function(){n.beforeHide&&"function"==typeof n.beforeHide&&n.beforeHide(),t.removeClass("op-display"),o("body").css("overflow","visible")}),n.closeBtnId?i=o("#"+n.closeBtnId):(o(".op-content",t).prepend('<div class="op-close"><div class="op-close-in"></div></div>'),i=o(".op-close")),i.bind("click.overlay-popup",function(){o(document).trigger(a+":hide")}),n.overlay=t,n.swClass="op-display",n.btnObj=i,o(this).data("overlay-popup",n),n.afterInit&&"function"==typeof n.afterInit&&n.afterInit(t)})},destroy:function(e){var t=o.extend({afterDestroy:function(){}},e);return this.each(function(){var e=o(this),n=e.data("overlay-popup"),r=o(".op-content",e),i=r.html();n.btnObj.unbind(".overlay-popup").remove(),r.remove(),o(this).removeClass("op-init").html(i),e.removeData("overlay-popup"),t.afterDestroy&&"function"==typeof t.afterDestroy&&t.afterDestroy()})}};o.fn.hasOwnProperty("overlayPopup")||(o.fn.overlayPopup=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void o.error("jQuery Overlay-popup doesn't know method "+e):t.init.apply(this,arguments)})}(jQuery);